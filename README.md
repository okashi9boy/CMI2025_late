# CMI2025_late

---

# コンペ概要：CMI - Detect Behavior with Sensor Data

腕時計型デバイスのセンサーデータを用いて、メンタルヘルスに関連する特定の動作を検知・分類するコンペティションです。

## 1. 目的
**「腕時計型のデバイスから得られるセンサーデータを使って、特定の癖（無意識の動作）を判定する」**

具体的には、以下の2つのアクションを区別するAIモデルを構築します。
- **BFRB（身体集中反復行動）：** 髪を抜く、皮膚をかく、爪を噛むなど、不安症や強迫症に関連する動作。
- **日常的な動作：** コップで水を飲む、メガネを調整する、スマホで文字を打つなどの一般的な動作。

## 2. 背景
BFRB（髪を抜く、皮膚を傷つけるなど）はメンタルヘルスの重要な指標ですが、本人が無意識に行うことが多いため、客観的な把握が困難です。
ウェアラブルデバイスでこれらを自動検知できるようになれば、治療のサポートや、より適切なケアを提供するための強力なツールとなります。

## 3. 使用データ
Child Mind Instituteが開発した研究用デバイス「Helios」のデータを使用します。

### 搭載センサー
- **IMU（慣性計測装置）：** 腕の動きや回転を計測（一般的なスマートウォッチに搭載されているもの）。
- **熱パイル（Thermopiles）：** 5つのセンサーで体温（熱）を検知。
- **ToFセンサー（Time-of-Flight）：** 5つのセンサーで物との距離（近接度）を測定。

### 記録されている動作
- **ターゲット動作：** 「髪を抜く」「首をかく」「眉毛を抜く」など8種類のBFRB動作。
- **非ターゲット動作：** 「飲み物を飲む」「文字を書く」「手を振る」など10種類の日常動作。
- **姿勢のバリエーション：** 座る、前かがみ、仰向け、横向きなど、複数の姿勢で記録されています。

## 4. 予測タスク
提出するモデルには、以下の2段階の判定が求められます。
1. **バイナリ分類：** その動作が「BFRB（ターゲット）」か「日常動作（非ターゲット）」か。
2. **多クラス分類：** 具体的にどの種類の動作（どの種類のBFRB、または非ターゲット一括）か。

## 5. 本コンペの難しさと面白さ
評価用のテストデータにおいて、**センサーの利用可能性が半分ずつ異なる**点が最大の特徴です。

- **評価用データの50%：** すべてのセンサー（IMU + 熱 + 距離）が利用可能。
- **評価用データの残り50%：** IMU（動き）データのみ利用可能。

**主催者の意図：**
「高価なセンサー（熱・距離）を追加することで、一般的なIMUだけのデバイスよりどれだけ精度が上がるのか？」を検証しようとしています。そのため、センサーが制限された環境でも高い精度を出せる堅牢なモデルが求められます。

## 6. 評価方法
**「Macro F1スコア」**の平均値で順位が決まります。
- **F1スコア：** 「正解を漏らさず見つけられたか（再現率）」と「間違いを少なく判定できたか（適合率）」のバランスを評価する指標です。
- 本コンペでは、「BFRBかどうかの判定」と「具体的な動作の判定」の両方のスコアを合算して評価されます。

## 7. 学習に役立つキーワード
- **Time Series Analysis（時系列解析）：** 連続するセンサーデータの扱い。
- **Feature Engineering（特徴量生成）：** センサーの波形から動作の特徴を抽出する手法。
- **Classification（分類問題）：** 2値および多クラスの分類手法。
- **IMU Data Processing：** 加速度やジャイロセンサーのノイズ除去や正規化。

---

# kaggle_bass_repo
- kaggleの複製用リポジトリ。各コンペに対してこのリポジトリを複製し、実験管理を行う。
- 複製は手作業でこのリポジトリをzipでDLしてnewリポジトリでreadme作るとファイルUPできるからドラック＆ドロップで複製
- 上記を https://took.jp/github-import-repository/ のようにしようとしたができなかった
- コピペ後はコンペ概要を記載。
- コンペ概要をAIでまとめて貼り付ける際はマークダウン記法で指定して、AIの出力を編集状態にしたうえでコピーする。

## kaggleコンペ取り組み時の流れ
1. chrome分割タブ機能、拡張機能のサイドバーを使用してai studio、github、参考サイトなどを表示させながら進行
2. githubでnew repository作成でkaggle_bass_repoテンプレートで名前だけ変更する
3. githubで「. + any key」でweb版vs codeが開けるのでファイルやフォルダを作成、削除する
4. kaggle notebook でupload > new dataset > link > githubのURLコピペで末尾.git消去
5. 

## githubでの編集方法chips
- マークダウンの書き方
  - 見出し「#」
  - テキスト装飾「斜体（*）*A*、太字（**）**A**」
  - コードブロック（```）
  - その他　https://note.com/minami206/n/n7fff993ce14f

## 基本tree

```
├experiments
│    ├exp_1
│    │   ├a.md（ディレクトリ内の説明用、yamlの中身についてや実験のメモなど）
│    │   ├config.yaml（パラメーター設定）
│    │   ├exp_1.ipynb or exp_1.py（実験ファイル）
│    │
│    ├exp_2（exp_1をコピーして改変して使用）
│
│
├results
│    ├exp_1
│    │    ├model.pkl(実験ファイルで生成したモデルのoutputファイル)
│    │    ├results.csv（提出用ファイル）
│    │
│    ├exp_2（exp_1をコピーして改変して使用）
│

```
